# ===== axeScraper Complete Configuration Template =====
# Copy this file to .env and customize the values
# Environment variables override configuration files

# ===== General Configuration =====

# Base URLs to analyze (comma-separated)
AXE_BASE_URLS=example.com,example.org

# Output directory (supports ~ for home directory)
AXE_OUTPUT_DIR=~/axeScraper/output

# Virtual environment path
AXE_VENV_PATH=~/axeScraper/.venv

# ===== Pipeline Configuration =====

# Start stage: crawler, axe, or final
AXE_START_STAGE=crawler

# Number of times to repeat Axe analysis for more reliable results
AXE_REPEAT_ANALYSIS=1

# ===== Resource Monitoring =====

# Enable automatic resource monitoring to prevent system overload
AXE_RESOURCE_MONITORING=true

# How often to check resource usage (in seconds)
AXE_RESOURCE_CHECK_INTERVAL=3

# CPU usage percentage threshold (0-100)
AXE_CPU_THRESHOLD=90

# Memory usage percentage threshold (0-100)
AXE_MEMORY_THRESHOLD=85

# Cool-down time when thresholds are exceeded (in seconds)
AXE_COOL_DOWN_TIME=7

# ===== Crawler Configuration =====

# Maximum number of parallel requests
AXE_CRAWLER_MAX_WORKERS=16

# Maximum URLs to analyze per domain
AXE_CRAWLER_MAX_URLS=500

# Maximum retry attempts for failed requests
AXE_CRAWLER_MAX_RETRIES=10

# Delay between requests (in seconds)
AXE_CRAWLER_REQUEST_DELAY=0.25

# Whether to use Selenium for initial page loading
AXE_CRAWLER_USE_SELENIUM=false

# Enable hybrid mode (switch between HTTP and Selenium as needed)
AXE_CRAWLER_HYBRID_MODE=true

# Pending requests threshold for switching modes
AXE_CRAWLER_PENDING_THRESHOLD=250

# Number of parallel HTML parser workers
AXE_CRAWLER_PARSER_WORKERS=4

# Template cache size (number of entries)
AXE_CRAWLER_TEMPLATE_CACHE=10000

# HTML cache size (number of entries)
AXE_CRAWLER_HTML_CACHE=10000

# Interval for auto-saving state (in seconds)
AXE_CRAWLER_SAVE_INTERVAL=20

# Maximum number of concurrent connections
AXE_CRAWLER_CONNECTIONS=100

# HTTP request timeout (in seconds)
AXE_CRAWLER_TIMEOUT=60

# Run crawler in a subprocess for better isolation
AXE_CRAWLER_SUBPROCESS=true

# Whether to respect robots.txt rules
AXE_CRAWLER_RESPECT_ROBOTS=false

# ===== Scrapy Settings =====

# Maximum concurrent requests
AXE_SCRAPY_CONCURRENT_REQUESTS=16

# Maximum concurrent requests per domain
AXE_SCRAPY_CONCURRENT_PER_DOMAIN=8

# Delay between requests (in seconds)
AXE_SCRAPY_DOWNLOAD_DELAY=0.25

# Enable auto-throttling to be respectful to websites
AXE_SCRAPY_AUTOTHROTTLE=true

# HTTP request timeout (in seconds)
AXE_SCRAPY_TIMEOUT=30

# Number of retry attempts for failed requests
AXE_SCRAPY_RETRY_TIMES=3

# ===== Axe Analysis Configuration =====

# Maximum number of templates to analyze per domain
AXE_MAX_TEMPLATES=50

# Size of the analysis worker pool
AXE_POOL_SIZE=5

# Delay between page analyses (in seconds)
AXE_SLEEP_TIME=1

# Run in headless mode (no visible browser)
AXE_HEADLESS=true

# Resume from the last analyzed URL if interrupted
AXE_RESUME=true

# ===== Logging Configuration =====

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
AXE_LOG_LEVEL=INFO

# Log format string
AXE_LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Date format for log timestamps
AXE_LOG_DATE_FORMAT=%Y-%m-%d %H:%M:%S

# Log directory (defaults to OUTPUT_DIR/logs)
AXE_LOG_DIR=${AXE_OUTPUT_DIR}/logs

# Enable console logging
AXE_LOG_CONSOLE=true

# Enable rotating log files (to limit file size)
AXE_LOG_ROTATING=true

# Maximum size of log files before rotation (in bytes)
AXE_LOG_MAX_BYTES=10485760

# Number of backup log files to keep
AXE_LOG_BACKUP_COUNT=5

# Component-specific log levels (override AXE_LOG_LEVEL)
AXE_CRAWLER_LOG_LEVEL=INFO
AXE_ANALYSIS_LOG_LEVEL=INFO
AXE_REPORT_LOG_LEVEL=INFO
AXE_PIPELINE_LOG_LEVEL=INFO

# ===== Output Configuration =====

# Create output directories if they don't exist
AXE_CREATE_DIRS=true

# Add timestamps to generated files
AXE_USE_TIMESTAMP=true

# Format for timestamps in filenames
AXE_TIMESTAMP_FORMAT=%Y%m%d_%H%M%S

# Backup existing outputs before overwriting
AXE_BACKUP_OUTPUTS=true

# Maximum number of backups to keep
AXE_MAX_BACKUPS=5

# ===== Email Configuration =====

# Email recipient for report notifications
AXE_EMAIL_RECIPIENT=example@example.com

# Email subject line
AXE_EMAIL_SUBJECT=Accessibility Reports

# Email body text
AXE_EMAIL_BODY=The accessibility reports are completed. Please find the Excel files attached.

# SMTP server address
AXE_SMTP_SERVER=localhost

# SMTP server port
AXE_SMTP_PORT=25

# SMTP username (if authentication required)
AXE_SMTP_USERNAME=

# SMTP password (if authentication required)
AXE_SMTP_PASSWORD=

# Enable TLS encryption for SMTP
AXE_SMTP_TLS=false

# Command for sending email with mutt (alternative to SMTP)
AXE_MUTT_COMMAND=mutt -s